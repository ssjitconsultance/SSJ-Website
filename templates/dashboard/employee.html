{% extends 'base.html' %}
{% load static %}
{% block title %}Employee Dashboard - SSJ IT Consultancy{% endblock %}

{% block content %}
<section class="dashboard">
    <div class="dashboard-header">
        <div class="row align-items-center">
            <div class="col-md-8">
                <h1><i class="fas fa-tachometer-alt me-2"></i>Welcome, {{ user.first_name|default:user.username }}</h1>
                <p><i class="fas fa-briefcase me-2"></i>{{ profile.position }} - {{ profile.department }}</p>

                <!-- ✅ Attendance Status -->
                {% if attendance and attendance.sign_out_time == None %}
                    <p class="text-success">
                        <i class="fas fa-user-check me-1"></i> Status: Signed In at {{ attendance.sign_in_time|date:"H:i" }}
                    </p>
                {% else %}
                    <p class="text-danger">
                        <i class="fas fa-user-times me-1"></i> Status: Signed Out
                    </p>
                {% endif %}

                <!-- ✅ Sign-In / Sign-Out Buttons -->
                <div class="mt-3">
                    <a href="{% url 'employee_login' %}" class="btn btn-success me-2">
                        <i class="fas fa-sign-in-alt me-2"></i>Sign In
                    </a>
                    <a href="{% url 'employee_login' %}" class="btn btn-warning">
                        <i class="fas fa-sign-out-alt me-2"></i>Sign Out
                    </a>
                </div>
            </div>

            <div class="col-md-4 text-md-end mt-3 mt-md-0">
                <a href="{% url 'logout' %}" class="btn btn-outline-danger">
                    <i class="fas fa-sign-out-alt me-2"></i>Logout
                </a>
            </div>
        </div>
    </div>

  <!-- ✅ Dashboard Cards -->
    <div class="dashboard-cards">
        <div class="dashboard-card">
            <img src="{% static 'images/gmail-icon.png' %}" alt="Gmail Icon">
            <h3>Gmail</h3>
            <p>Access your company email and communications.</p>
            <a href="{% url 'gmail' %}" class="card-button">
                <i class="fas fa-envelope me-2"></i>Open Gmail
            </a>
        </div>



        <div class="dashboard-card">
            <img src="{% static 'images/calendar-icon.png' %}" alt="Calendar Icon">
            <h3>Calendar</h3>
            <p>Track important dates and deadlines.</p>
            <a href="{% url 'calendar' %}" class="card-button">
                <i class="fas fa-calendar-alt me-2"></i>View Calendar
            </a>
        </div>
        <div class="dashboard-card">
            <img src="{% static 'images/profile-icon.png' %}" alt="Profile Icon">
            <h3>Profile</h3>
            <p>View and update your profile information.</p>
            <a href="{% url 'profile' %}" class="card-button">
                <i class="fas fa-user me-2"></i>View Profile
            </a>
        </div>
    </div>

    <!-- ✅ Optional: Recent Activities -->
    <div class="dashboard-recent">
        <h2><i class="fas fa-history me-2"></i>Recent Activities</h2>
        <div class="activity-list">
            <div class="activity-item">
                <div class="activity-icon">
                    <img src="{% static 'images/gmail-icon.png' %}" alt="Email Icon">
                </div>
                <div class="activity-details">
                    <h4>Weekly Team Meeting</h4>
                    <p><i class="fas fa-calendar me-1"></i>Meeting scheduled for tomorrow at 10:00 AM</p>
                </div>
            </div>

            <div class="activity-item">
                <div class="activity-icon">
                    <img src="{% static 'images/calendar-icon.png' %}" alt="Calendar Icon">
                </div>
                <div class="activity-details">
                    <h4>Project Deadline</h4>
                    <p><i class="fas fa-exclamation-circle me-1"></i>Data Migration Project due in 3 days</p>
                </div>
            </div>
        </div>
    </div>
</section> 
{% endblock %}

